{% extends "base.html" %} {% block content %}
<div
  style="
    display: flex;
    align-items: center;
    justify-content: center;
    height: 80vh;
  "
>
  <div style="width: 100%; max-width: 300px">
    <h2 style="text-align: center; margin-bottom: 20px">Login</h2>

    {% if user.is_authenticated %}
    <div
      style="
        padding: 20px;
        border: 1px solid #ccc;
        border-radius: 10px;
        background-color: #f1f1f1;
        text-align: center;
      "
    >
      <p>You are already logged in as <strong>{{ user.username }}</strong>.</p>
      <form method="post" action="{% url 'logout' %}" style="margin-top: 10px">
        {% csrf_token %}
        <button
          type="submit"
          style="
            padding: 10px 20px;
            background-color: #dc3545;
            color: white;
            border: none;
            border-radius: 5px;
            font-weight: bold;
            cursor: pointer;
          "
        >
          Logout
        </button>
      </form>
    </div>
    {% else %}
    <form
      method="post"
      style="
        padding: 20px;
        border: 1px solid #ccc;
        border-radius: 10px;
        background-color: #f9f9f9;
      "
    >
      {% csrf_token %} {{ form.as_p }}
      <button
        type="submit"
        style="
          width: 100%;
          padding: 10px;
          background-color: #007bff;
          color: white;
          border: none;
          border-radius: 5px;
          font-weight: bold;
          cursor: pointer;
        "
      >
        Login
      </button>
    </form>

    {% if form.errors %}
    <div
      style="
        margin-top: 10px;
        color: #dc3545;
        background-color: #f8d7da;
        border: 1px solid #f5c2c7;
        padding: 10px 15px;
        border-radius: 5px;
      "
    >
      <ul style="margin: 0; padding-left: 20px">
        {% for field in form %} {% for error in field.errors %}
        <li><strong>{{ field.label }}:</strong> {{ error }}</li>
        {% endfor %} {% endfor %} {% for error in form.non_field_errors %}
        <li>{{ error }}</li>
        {% endfor %}
      </ul>
    </div>
    {% endif %}

    <p style="text-align: center; margin-top: 15px">
      Don't have an account?
      <a
        href="{% url 'register' %}"
        style="color: #007bff; text-decoration: none"
        >Register here</a
      >.
    </p>
    {% endif %}
  </div>
</div>
{% endblock %}
